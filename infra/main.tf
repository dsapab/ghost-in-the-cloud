## -------------------------------------------------------------------------------------------------------------------
## MAIN SETUP
## -------------------------------------------------------------------------------------------------------------------
## Terraform settings & provider configurations
## -------------------------------------------------------------------------------------------------------------------
##
terraform {
  required_version = ">= 1.0.0"
  required_providers {
    aws = {
      source = "hashicorp/aws"
      version = ">= 4.20.1"
    }
  }
}

variable "tags" {
  description = "Tags to apply to all resources"
  type        = map(string)
  default     = {
    Terraform = "true"
    application = "ghost-host-lab"
    environment = "dev"
  }
}


## -------------------------------------------------------------------------------------------------------------------
## Private Networking Infra
## -------------------------------------------------------------------------------------------------------------------
## Network setup and VPN Router
## -------------------------------------------------------------------------------------------------------------------
##
module "private_networking" {
  source = "./private-networking"

  # Core configurations
  # TODO
}


## -------------------------------------------------------------------------------------------------------------------
## GHOST Host
## -------------------------------------------------------------------------------------------------------------------
## Use module for creating the ephemeral Kali Linux host
## -------------------------------------------------------------------------------------------------------------------
##
module "ghost_host" {
  source = "./ghost-host"
  
  # Core configurations
  # TODO

}